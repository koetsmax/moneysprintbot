[null,{"name":"--------------status-----------------------","temp":"","event-type":"0","_id":"pkcip","actions":[]},{"name":"status","temp":"","event-type":"1","_id":"oPtUo","actions":[{"activity":"2","nameText":"for idiotic yeams","url":"","stat":"3","name":"Set Bot Activity"}]},{"name":"-----------giveaways-------------","temp":"","event-type":"0","_id":"CBgCw","actions":[]},{"name":"giveawayStart","temp":"","event-type":"1","_id":"jEKcf","actions":[{"code":"const fs = require('fs');\n\nif (globalVars(\"giveawayStartRan\") == null) {\n    this.storeValue(1, 3, \"giveawayStartRan\", cache);\n    if (!fs.existsSync('./data/giveawayData.json')) {\n        fs.writeFile(\"./data/giveawayData.json\", \"{}\", function(err) {\n            if (err) {\n                return console.log(err);\n            }\n        });\n    }\n}","behavior":"0","interpretation":"0","storage":"0","varName":"","VTypeSelect":"0","CVTypeValue":"","name":"Run Script"}]},{"name":"giveawayCheck","temp":"10","event-type":"3","_id":"eavvT","actions":[{"behavior":"0","interpretation":"1","code":"const fs = require('fs');\nconst Discord = require('discord.js');\nlet giveawaysDue = [];\nvar timeNow = Math.floor(Date.now() / 1000);\nvar counter = 0;\nvar interval;\nif (globalVars(\"giveawayRan\") == null) {\n    this.storeValue(1,3,\"giveawayRan\",cache);\n\n    fs.readFile('./data/giveawayData.json', async function read(err, data) {\n        if (err) {\n            throw err;\n        }\n        data = JSON.parse(data);\n    \n        for (var key in data) {\n            if (data.hasOwnProperty(key)) {\n                let giveaways = data[key];\n                let dueGive = await giveaways.filter(({\n                    finishUnix\n                }) => finishUnix <= timeNow);\n                if (dueGive.length > 0) {\n                    dueGive.forEach(async f => {\n                        giveawaysDue.push(f);\n                        giveaways.splice(giveaways.findIndex(e => e.id === f.id), 1)\n                    });\n    \n                    fs.writeFile(\"./data/giveawayData.json\", JSON.stringify(data), function(err) {\n                        if (err) {\n                            return console.log(err);\n                        }\n                    });\n                }\n            }\n        }\n        if (giveawaysDue.length > 0) {\n            interval = setInterval(drawWinners, 2000);\n        }\n        \n    })\n}\n\nasync function drawWinners() {\n        var channelToFetch = await client.channels.get(giveawaysDue[counter][\"channel\"]);\n        if (channelToFetch != null) {\n            var giveawayMessage = await channelToFetch.fetchMessage(giveawaysDue[counter][\"giveawayMessageID\"]);\n            var giveawayUsers = await giveawayMessage.reactions.get('üéâ').fetchUsers();\n            giveawayUsers = giveawayUsers.array();\n            giveawayUsers = await giveawayUsers.filter(object => object.id != client.user.id);\n            var numberOfWinners = parseInt(giveawaysDue[counter][\"winner\"]);\n            var gw = giveawayMessage.embeds[0];\n\n            var giveawayEmbed = new Discord.RichEmbed({\n                color: 0x000000,\n                author: {\n                    name: 'üéâ Giveaway Ended üéâ',\n                    icon_url: (client || this.getDBM().Bot.bot).user.avatarURL\n                },\n                description: gw.description,\n                footer: {\n                    text: gw.footer.text\n                }\n            })\n            var winnerArray = [];\n            var winnerText = \"\";\n            if (giveawayUsers.length > 0) {\n                if (giveawayUsers.length > numberOfWinners) {\n                    for (var i = 0; i < numberOfWinners; i++) {\n                        var randomNumber = Math.floor(Math.random() * giveawayUsers.length);\n                        var randomuser = giveawayUsers[randomNumber];\n                        winnerArray.push(randomuser);\n                        giveawayUsers.splice(giveawayUsers.indexOf(randomNumber), randomNumber);\n                    }\n                } else if (giveawayUsers.length <= numberOfWinners) {\n                    for (i = 0; i < giveawayUsers.length; i++) {\n                        winnerArray.push(giveawayUsers[i]);\n                    }\n                }\n\n                for (i = 0; i < winnerArray.length; i++) {\n                    winnerText = winnerText + winnerArray[i] + '\\n';\n                }\n\n                giveawayEmbed.description = giveawayEmbed.description + `\\n\\nThe winners are..\\n${winnerText}`;\n                giveawayMessage.edit(giveawayEmbed)\n                channelToFetch.send(`üéâ Congratulations! üéâ \\n ${winnerText} \\nThey have won **${giveawaysDue[counter][\"itemGivingAway\"]}**`)\n\n            } else {\n                giveawayEmbed.description = giveawayEmbed.description + \"\\n\\nNo one entered the giveaway and thus no one won.\"\n                giveawayMessage.edit(giveawayEmbed);\n                channelToFetch.send(`üéâ Giveaway Ended üéâ\\n\\nNo one entered the giveaway and thus no one won.`)\n            }\n        }\n        counter += 1;\n        if (counter >= giveawaysDue.length) {\n            clearInterval(interval);\n        }\n    }","storage":"0","varName":"","name":"Run Script"},{"time":"7","measurement":"1","name":"Wait"},{"storage":"3","varName":"giveawayRan","changeType":"0","value":"null","name":"Control Variable"}],"temp2":"America/New_York"},{"name":"------------welcome--------------------","temp":"","event-type":"0","_id":"bsAcy","actions":[]},{"name":"welcomeevent","temp":"memberjoined","event-type":"6","_id":"liejG","actions":[{"info":"1","find":"ü§ù‚ñê‚ñåwelcome","storage":"1","varName":"welcomechannel","name":"Find Channel"},{"title":"Money Sprint","author":"","color":"","url":"","authorIcon":"","authorUrl":"","imageUrl":"https://cdn.discordapp.com/attachments/678982630926188555/700423680215482468/Money_Sprint_logo.png","thumbUrl":"","timestamp":"false","debug":"false","text":"","year":"","month":"","day":"","hour":"","minute":"","second":"","storage":"1","varName":"welcomeembed","name":"Create Embed Message"},{"storage":"1","varName":"welcomeembed","fieldName":"Welcome","message":"Welcome to the MoneySprint community ${tempVars(\"memberjoined\")}, head over to #üí∏‚ñê‚ñåhow-to-join-a-drop to find out how to be able to participate in future events!","inline":"1","name":"Add Embed Field"},{"storage":"1","varName":"welcomeembed","message":"MoneySprint","footerIcon":"","name":"Set Embed Footer"},{"storage":"1","varName":"welcomeembed","channel":"5","varName2":"welcomechannel","storage3":"0","varName3":"","iffalse":"0","iffalseVal":"","messageContent":"","name":"Send Embed Message"}]},{"name":"----------applications------------------","temp":"","event-type":"0","_id":"rQjVG","actions":[]},{"name":"ApplicationRefresh","temp":"","event-type":"1","_id":"RlLeA","actions":[{"storage":"3","varName":"global.list","comparison":"0","value":"","iftrue":"3","iftrueVal":"1","iffalse":"0","iffalseVal":"","name":"Check Variable"},{"storage":"3","varName":"global.list","name":"Create List"},{"storage":"3","varName":"global.list","name":"Save Variable"},{"comment":"","color":"#000000","name":"Comment"},{"storage":"3","varName":"global.list","addType":"0","position":"","value":"1101","name":"Add Item to List"},{"storage":"3","varName":"global.list","removeType":"0","position":"","storage2":"0","varName2":"","name":"Remove Item from List"},{"storage":"3","varName":"global.list","name":"Save Variable"},{"tosend":"${globalVars(\"global.list\")}","name":"Send Message to Console"}]},{"name":"----------serverstats-------------------","temp":"","event-type":"0","_id":"KIthG","actions":[]},{"name":"mermberjoin","temp":"","event-type":"6","_id":"iNGXG","actions":[{"server":"0","varName":"","info":"36","storage":"1","varName2":"totalcount","name":"Store Server Info"},{"server":"0","varName":"","info":"35","storage":"1","varName2":"membercount","name":"Store Server Info"},{"server":"0","varName":"","info":"34","storage":"1","varName2":"botcount","name":"Store Server Info"},{"storage":"4","varName":"totalchannel","channelType":"1","toChange":"0","newState":"All Members: ${tempVars(\"totalcount\")}","name":"Edit Channel"},{"storage":"4","varName":"memberchannel","channelType":"1","toChange":"0","newState":"Members: ${tempVars(\"membercount\")}","name":"Edit Channel"},{"storage":"4","varName":"botchannel","channelType":"1","toChange":"0","newState":"Bots: ${tempVars(\"botcount\")}","name":"Edit Channel"}]},{"name":"mermberleave","temp":"","event-type":"7","_id":"iNGXG","actions":[{"server":"0","varName":"","info":"36","storage":"1","varName2":"totalcount","name":"Store Server Info"},{"server":"0","varName":"","info":"35","storage":"1","varName2":"membercount","name":"Store Server Info"},{"server":"0","varName":"","info":"34","storage":"1","varName2":"botcount","name":"Store Server Info"},{"storage":"4","varName":"totalchannel","channelType":"1","toChange":"0","newState":"All Members: ${tempVars(\"totalcount\")}","name":"Edit Channel"},{"storage":"4","varName":"memberchannel","channelType":"1","toChange":"0","newState":"Members: ${tempVars(\"membercount\")}","name":"Edit Channel"},{"storage":"4","varName":"botchannel","channelType":"1","toChange":"0","newState":"Bots: ${tempVars(\"botcount\")}","name":"Edit Channel"}]},{"name":"botjoin","temp":"","event-type":"4","_id":"iNGXG","actions":[{"server":"0","varName":"","info":"36","storage":"1","varName2":"totalcount","name":"Store Server Info"},{"server":"0","varName":"","info":"35","storage":"1","varName2":"membercount","name":"Store Server Info"},{"server":"0","varName":"","info":"34","storage":"1","varName2":"botcount","name":"Store Server Info"},{"storage":"4","varName":"totalchannel","channelType":"1","toChange":"0","newState":"All Members: ${tempVars(\"totalcount\")}","name":"Edit Channel"},{"storage":"4","varName":"memberchannel","channelType":"1","toChange":"0","newState":"Members: ${tempVars(\"membercount\")}","name":"Edit Channel"},{"storage":"4","varName":"botchannel","channelType":"1","toChange":"0","newState":"Bots: ${tempVars(\"botcount\")}","name":"Edit Channel"}]},{"name":"botleave","temp":"","event-type":"5","_id":"iNGXG","actions":[{"server":"0","varName":"","info":"36","storage":"1","varName2":"totalcount","name":"Store Server Info"},{"server":"0","varName":"","info":"35","storage":"1","varName2":"membercount","name":"Store Server Info"},{"server":"0","varName":"","info":"34","storage":"1","varName2":"botcount","name":"Store Server Info"},{"storage":"4","varName":"totalchannel","channelType":"1","toChange":"0","newState":"All Members: ${tempVars(\"totalcount\")}","name":"Edit Channel"},{"storage":"4","varName":"memberchannel","channelType":"1","toChange":"0","newState":"Members: ${tempVars(\"membercount\")}","name":"Edit Channel"},{"storage":"4","varName":"botchannel","channelType":"1","toChange":"0","newState":"Bots: ${tempVars(\"botcount\")}","name":"Edit Channel"}]},{"name":"stats on bot initialization","temp":"","event-type":"1","_id":"iNGXG","actions":[{"server":"0","varName":"","info":"36","storage":"1","varName2":"totalcount","name":"Store Server Info"},{"server":"0","varName":"","info":"35","storage":"1","varName2":"membercount","name":"Store Server Info"},{"server":"0","varName":"","info":"34","storage":"1","varName2":"botcount","name":"Store Server Info"},{"storage":"4","varName":"totalchannel","channelType":"1","toChange":"0","newState":"All Members: ${tempVars(\"totalcount\")}","name":"Edit Channel"},{"storage":"4","varName":"memberchannel","channelType":"1","toChange":"0","newState":"Members: ${tempVars(\"membercount\")}","name":"Edit Channel"},{"storage":"4","varName":"botchannel","channelType":"1","toChange":"0","newState":"Bots: ${tempVars(\"botcount\")}","name":"Edit Channel"}]},{"name":"-------------tickets----------------------","temp":"","event-type":"0","_id":"LmMhR","actions":[]},{"name":"ticketcreate","temp":"reaction","event-type":"28","_id":"KLhIZ","actions":[{"info":"1","find":"Moderator","storage":"1","varName":"modrole","name":"Find Role"},{"reaction":"1","varName":"reaction","info":"0","storage":"1","varName2":"reactionmessage","name":"Store Reaction Info"},{"storage":"1","varName":"reactionmessage","comparison":"1","value":"serverVars(\"ticketmessageobject\")","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"reaction":"1","varName":"reaction","info":"3","storage":"1","varName2":"reactionname","name":"Store Reaction Info"},{"storage":"1","varName":"reactionname","comparison":"1","value":"‚úÖ","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"reaction":"1","varName":"reaction","info":"7","storage":"1","varName2":"reactionuser","name":"Store Reaction Info"},{"member":"2","varName":"reactionuser","info":"0","varName2":"","iftrue":"1","iftrueVal":"","iffalse":"0","iffalseVal":"","name":"Check If Member"},{"server":"0","varName":"","dataName":"ticketnum","changeType":"1","value":"1","name":"Control Server Data"},{"server":"0","varName":"","dataName":"ticketnum","defaultVal":"0","storage":"1","varName2":"ticketnumber","name":"Store Server Data"},{"channelName":"ticket-${tempVars(\"ticketnumber\")}","categoryID":"","topic":"This is a ticket.","position":"","storage":"2","varName":"ticketchannel","name":"Create Text Channel"},{"storage":"4","varName":"ticketchannel","permission":"READ_MESSAGES","state":"1","name":"Set Channel Permissions"},{"channel":"4","varName":"ticketchannel","role":"3","varName2":"modrole","permission":"READ_MESSAGES","state":"0","name":"Set Role Channel Perms"},{"channel":"4","varName":"ticketchannel","member":"2","varName2":"reactionuser","permission":"READ_MESSAGES","state":"0","name":"Set Member Channel Perms"},{"channel":"6","varName":"ticketchannel","message":"Welcome ${tempVars(\"reactionuser\")}","storage":"2","varName2":"hellomessage","iffalse":"0","iffalseVal":"","name":"Send Message"},{"reaction":"1","varName":"reaction","member":"2","varName2":"reactionuser","name":"Remove Reaction"},{"storage":"2","varName":"hellomessage","emoji":"4","varName2":"üîí","varName3":"","name":"Add Reaction"}]},{"name":"W.I.P. ticketclose","temp":"reaction1","event-type":"28","_id":"sqDwP","actions":[{"info":"1","find":"Member","storage":"1","varName":"memberrole","name":"Find Role"},{"reaction":"1","varName":"reaction1","info":"0","storage":"1","varName2":"reactionmessage","name":"Store Reaction Info"},{"storage":"1","varName":"reactionmessage","comparison":"1","value":"serverVars(\"hellomessage\")","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"reaction":"1","varName":"reaction1","info":"3","storage":"1","varName2":"reactionname","name":"Store Reaction Info"},{"storage":"1","varName":"reactionname","comparison":"1","value":"üîí","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"reaction":"1","varName":"reaction1","info":"7","storage":"1","varName2":"reactionuser","name":"Store Reaction Info"},{"member":"2","varName":"reactionuser","info":"0","varName2":"","iftrue":"1","iftrueVal":"","iffalse":"0","iffalseVal":"","name":"Check If Member"},{"channel":"6","varName":"ticketchannel","message":"Ticket closed by ${tempVars(\"reactionuser\")}.","storage":"0","varName2":"","iffalse":"0","iffalseVal":"","name":"Send Message"},{"channel":"4","varName":"ticketchannel","role":"3","varName2":"memberrole","permission":"SEND_MESSAGES","state":"2","name":"Set Role Channel Perms"},{"reaction":"1","varName":"reaction1","member":"2","varName2":"reactionuser","name":"Remove Reaction"}]}]